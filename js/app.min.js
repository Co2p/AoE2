function populateDropdown(e,t){t.forEach(t=>{let n=document.createElement("option");n.className="dropdown-item",n.innerText=t.name,n.value=t.id,n.href="#",e.appendChild(n)})}function resetInfo(){let e=document.getElementById("grid");e.innerHTML=""}function updateInformation(e){let t=document.getElementById("grid");const n="h5";let o=document.createElement("div");o.className="civcontainer",o.appendChild(header(e.name,"h1"));const a=createStatElement(header("Unique Units",n),listify(e.UU,civData.uniqueUnits.map(e=>e.name))),i=createStatElement(header(`Castle Unique Technologies: ${e.technology.castle.name}`,n),document.createTextNode(e.technology.castle.description)),d=createStatElement(header(`Imperial Unique Technologies: ${e.technology.imperial.name}`,n),document.createTextNode(e.technology.imperial.description)),c=createStatElement(header("Team bonus",n),document.createTextNode(e.TeamBonus)),l=createStatElement(header("Civilization bonuses",n),listify(e.CivBonus)),r=createStatElement(header("Specialty",n),listify(e.speciality,civData.specialities.slice(1,civData.length).map(e=>e.name)));o.appendChild(r),o.appendChild(a),o.appendChild(i),o.appendChild(d),o.appendChild(c),o.appendChild(l),t.appendChild(o)}function createStatElement(e,t){let n=document.createElement("li");return n.className="list-group-item",n.appendChild(e),n.appendChild(t),n}function listify(e,t){let n=document.createElement("ul");const o=void 0===t;return e.forEach(e=>{let a=document.createElement("li");a.innerText=o?e:t[e],n.appendChild(a)}),n}function header(e,t){const n=document.createElement(t);return n.innerText=e,n}function dropdownSort(e){return e.sort((e,t)=>-1===e.id?-1:e.name<t.name?-1:1)}function civDropdown(){let e=document.getElementById("civ-dropdown");e.onchange=(e=>{if(resetInfo(),"-1"!==e.target.value){const t=civData.Civs.filter(t=>t.id===Number(e.target.value));updateInformation(t[0])}}),populateDropdown(e,dropdownSort(civData.Civs))}function techDropdown(){let e=document.getElementById("tech-dropdown");e.onchange=(e=>{if(resetInfo(),"-1"!==e.target.value){const t=civData.Civs.filter(t=>t.id===Number(e.target.value));updateInformation(t[0])}});let t=[];civData.Civs.forEach(e=>{if(-1!==e.id){let n={},o={};n.name=`${e.technology.castle.name} (${e.technology.castle.description})`,n.id=e.id,t.push(n),o.name=`${e.technology.imperial.name} (${e.technology.imperial.description})`,o.id=e.id,t.push(o)}else{const n={};n.name=e.technology.castle.name,n.id=e.id,t.push(n)}}),populateDropdown(e,dropdownSort(t))}function specDropdown(){let e=document.getElementById("specialities-dropdown");e.onchange=(e=>{resetInfo(),"-1"!==e.target.value&&civData.Civs.forEach(t=>{t.speciality.includes(Number(e.target.value))&&updateInformation(t)})}),populateDropdown(e,civData.specialities)}let pickDropdown=document.getElementById("pick-dropdown");pickDropdown.onchange=(e=>{let t=document.getElementById("specialities-dropdown"),n=document.getElementById("civ-dropdown"),o=document.getElementById("tech-dropdown");t.hidden="spec"!==e.target.value,o.hidden="tech"!==e.target.value,n.hidden="civ"!==e.target.value,t.value=-1,n.value=-1,o.value=-1}),specDropdown(),civDropdown(),techDropdown();